<!doctype html>
<html>
<head>
	<title>Notifymatters Mattermost in iframe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="referrer" content="no-referrer">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.2/css/bulma.min.css" integrity="sha256-d+mgRrjtsPCjrT7ltuB1sZ2VybUn1Xgdf8piVG/Va/k=" crossorigin="anonymous" />
    <link rel="stylesheet" href="common.css" />
	<link rel="stylesheet" href="mattermost-iframe.css" />
</head>
<body>
<div id="app" v-cloak>

<div class="modal" v-if="!!error" v-bind:class="{ 'is-active': !!error}">
	<div class="modal-background"></div>
	<div class="modal-content">
		<div class="notification is-danger">
			<button class="delete" v-on:click="closeErrorModal"></button>
			<p>{{ error.code }}<span v-if="error.msg"> : {{ error.msg }}</span></p>
		</div>
	</div>
</div>

<section class="hero is-primary">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        Notifymatters Mattermost in iframe
      </h1>
      <h2 class="subtitle">
        This is a simple web app which loads Mattermost in an Iframe to test integration with Notifymatters postMessage API.
      </h2>
    </div>
  </div>
</section>

<iframe id="main" v-if="url !== ''" :src="url" v-on:load="load"></iframe>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.2/vue.min.js" integrity="sha256-Gs0UYwrz/B58FsQggzU+vvCSyG/pewemP4Lssjzv8Ho=" crossorigin="anonymous"></script>
<script src="common.js"></script>
<script src="mattermost-iframe.js"></script>

</div> <!-- id=app -->
</body>
</html>
